#cmd: acm list-certificates
#sort: DomainName,NotAfter,Status
#geo: regional

.CertificateSummaryList[] |
(
  map_values(del(select((.|iterables) ))) | del(.[] | select(. == null))
)
+
(
  map_values(
    if (. | type == "array" and (.[0] | type == "string")) then
      join(", ")
    elif (. | iterables) then
      empty
    else
      .
    end
  )
)
+
(
  (.Tags // [])|from_entries
)

